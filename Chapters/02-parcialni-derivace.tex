\documentclass[../main.tex]{subfiles}

\begin{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Parciální derivace}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Definice a značení}
\hspace{1.2mm}
\noindent

\hspace{1.2mm}
Pro $f(x_1,...,x_n)$ vezmeme 
\[\phi_k(t) = f(x_1,...,x_{k-1},t,x_{k+1},...x_n)\]
\[... t = x_k...\]
\hspace{1.2mm}
\textit{Parciální derivace} funkce $f$ podle $x_k$ (v bodě $(x_1,...,x_n))$ je (obvyklá) derivace funkce $\phi_k$,
\[\lim_{h\rightarrow 0}\frac{f(x_1,...,x_{k-1},x_k+h,x_{k+1},...x_n) - f(x_1,..)}{h}.\]
\hspace{1.2mm}
Označení
\[\frac{\partial f(x_1,...(x_n)}{\partial x_k} \textrm{ nebo } \frac{\partial f}{\partial x_k} (x_1,...,x_n),\]
\hspace{1.2mm}
Pro $f(x,y)$ píšeme
\[\frac{\partial f(x,y)}{\partial x} \textrm{ a } \frac{\partial f(x,y)}{\partial y}, \textrm{ atd.}\]

\hspace{1.2mm}
Když $\frac{\partial f(x_1,...,x_n)}{\partial x_k}$ existuje pro všechna $(x_1,...,x_n)$ v nějaké oblasti $D$ máme funkci

\[\frac{\partial f}{\partial x_k}: D \rightarrow \mathbb{R}.\]

\hspace{1.2mm}
Když budeme mluvit o parciální derivaci bude vždy zřejmé máme-li na mysli funkci, nebo jen číslo (hodnotu té limity nahoře).
\noindent

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Totální diferenciál}
\hspace{1.2mm}
Nespojitá funkce $f$ může mít po souřadnicích má obě parciální derivace v každém bodě, to však ale neimplikuje spojitost.

\begin{center}
    existence parciálních derivací neimplikuje spojitost!
\end{center}

\hspace{1.2mm}
Budeme potřebovat něco silnejšího. Připomeňte si tvrzení ekvivalentní se standardní derivací:

Existuje $\mu$ konvergujíci k 0 při $h \rightarrow 0$ a A takové, že 

\[f(x+h) - f(x) = Ah + |h| \cdot \mu(h)\]

\hspace{1.2mm}
\textit{Geometrický pohled:}
$f(x+h) - f(x) = Ah$ vyjadřuje tečnu ke grafu funkce v bodě $(x,f(x)).$

\hspace{1.2mm}
$|h|\cdot \mu(h)$ je jakási malá chyba.
\noindent

\hspace{1.2mm}
Mysleme podobně o funkci $f(x,y)$ a uvažujme plochu 
\[S = \{(t,u,f(t,u)) : (t,u) \in D\}.\]

\hspace{1.2mm}
Dvě parciální derivace vyjadřují směry dvou tečných přímek k S vbode $(x,y,f(x,y))$, ale \underline{ne tečnou rovinu}, 
která teprve bude uspokojivé rozšíření faktu nahoře.


\hspace{1.2mm}
Pro \textbf{x} $\in \mathbb{E}_n$ definujeme
\[||\textbf{x}||  = \max_i|x_i|\]

\hspace{1.2mm}
To bude místo absolutní hodnoty, místo $h$ bude $n$-tice blízká nule.
\noindent

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Definice}
Funkce $f$ má \textit{totální diferenciál} v bodě \textbf{x} existuje-li funkce $\mu$ spojitá v okolí $U$ bodu $o$ taková, že $\mu(\textbf{o}) = 0$
a čísla $A_1,...,A_n$ pro která

\[f(\textbf{a}+\textbf{h}) - f(\textbf{a}) = \sum^n_{k=1}A_kh_k+||\textbf{h}||\mu(\textbf{h}).\]
\hspace{1.2mm}
\noindent

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Tvrzení o spojitosti funkce a totálním diferenciálu}
\hspace{1.2mm}
Nechť má funkce $f$ totální diferenciál v bodě \textbf{a}. Potom platí, že 
\begin{enumerate}
    \item $f$ je spojitá v \textbf{a},
    \item $f$ má všechny parciální derivace v \textbf{a}, a to s hodnotami 
    
    \[\frac{\partial f(\textbf{a})}{\partial x_k} = A_k.\]
\end{enumerate}
Důkaz:
\begin{enumerate}
    \item Máme
    
    \[|f(\textbf{x}-\textbf{y})| \leq |\textbf{A}(\textbf{x}-\textbf{y})| + |\mu(\textbf{x}-\textbf{y})|\cdot||\textbf{x}-\textbf{y}||\]
    a limita na pravé straně pro \textbf{y} $\rightarrow$ \textbf{x} je 0.
    
    \item Máme 
    \[\frac{1}{h}(f(...x_{k-1},x_k+h,x_{k+1},...) - f(x_1,...)) = A_k + \mu((...,0,h,0,...))\frac{||(0,...,h,...,0)||}{h},\]
    a limita na pravé straně je zřejmě $A_k$.
    
\end{enumerate}
    Teď již spojitost dostaneme. Vidíme, že v případě funkcí jedné proměnné není rozdíl mezi existencí derivace v bodě \textbf{a} a vlastností
    mít totální diferenciál v tomto bodě. V případě více proměnných je však tento rozdíl zcela zásadní. Může být trochu překvapujíci, že 
    zatímco existence parciálních derivací mnoho neznamená, \underline{existence spojitých parciálních derivací} je něco úplně jiného.
\noindent

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Věta o totálním diferenciálu}
\hspace{1.2mm}
Buď

\[\textbf{h}^{(0)} = \textbf{h}, \textbf{h}^{(1)} = (0, h_2,...,h_n), \textbf{h}^{(2)} = (0,0,h_3,...,h_n) \textrm{ atp.} \]
(takže $\textbf{h}^{(n)} = \textbf{0})$. Potom máme

\[f(\textbf{a}+\textbf{h}) - f(\textbf{a}) = \sum^n_{k=1}(f(\textbf{a}+\textbf{h}^{(k-1)})-f(\textbf{a}+\textbf{h}^{(k)})) = M.\]

Podle Lagrangeovy věty existují $0 \leq \Theta_k \leq 1$ takové, že
\[f(\textbf{a}+\textbf{h}^{(k-1)})-f(\textbf{a}+\textbf{h}^{(k)}) = \frac{\partial f(a_1,...,a_{k-1},a_k+ \theta_kh_k,a_{k+1},...,a_n)}{\partial x_k}h_k\]

a můžeme pokračovat

\begin{align*} 
\begin{split}
M & = \sum\frac{\partial f(a_1,...a_k+\Theta_kh_k,...,a_n)}{\partial x_k}h_k = \\
 & = \sum \frac{\partial f(\textbf{a})}{\partial x_k} + \sum \left( \frac{\partial f(a_1,...,a_k+\Theta_kh_k,...,a_n)}{\partial x_k}
 - \frac{\partial f(\textbf{a})}{\partial x_k} \right)h_k = \\
 & = \sum \frac{\partial f(\textbf{a})}{\partial x_k}h_k + ||\textbf{h}||\sum\left(\frac{\partial f(a_1,...,a_k+\Theta_kh_k,...,a_n)}
 {\partial x_k}- \frac{\partial f(\textbf{a})}{\partial x_k}\right)\frac{h_k}{||\textbf{h}||}.
\end{split}
\end{align*}

Položíme
\[\mu (\textbf{h}) = \sum\left(\frac{\partial f(a_1,...,a_k+\Theta_kh_k,...,a_n)}{\partial x_k} -
    \frac{\partial f(\textbf{a})}{\partial x_k} \right)\frac{h_k}{||\textbf{h}||}.\]
    
    Jelikož $\left|\frac{h_k}{||\textbf{h}||}\right| \leq 1$ a jelikož jsou funkce $\frac{\partial f}{\partial x_k}$ spojité,
    $\lim_{\textbf{h}\rightarrow \textbf{0}} \mu (\textbf{h}) = 0$.
    \begin{center}
    \LARGE 
    Můžeme tedy schematicky psát
    
    \LARGE 
    spojité PD $\implies$ TD $\implies$ PD
    \end{center}
\noindent

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Pravidla pro počítání parciálních derivací}
\hspace{1.2mm}
\noindent
Aritmetická pravidla jsou stejná jako pro obyčejné derivace(tady totiž obyčejnými derivacemi jsou).
Trochu jinak tomu je u pravidla pro skládání. Pro derivace jedné proměnné se dokazuje z formule
\[ f(a+h) - f(a) = Ah + |h|\mu (h) \]
tedy z diferenciálu(který je pro ně totéž jako existence derivace). Pravidlo pro skládání v
Pravidlo pro skládání v nejjednodušší podobě následuje.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Věta pro derivaci složených funkcí o více proměnných}
\hspace{1.2mm}
Nechť má $f(\textbf{x})$ totální diferenciál v bodu \textbf{a}. Nechť mají $g_k(t)$ derivace v bodě b a nechť je $g_k(b) = a_k$ pro 
$k = 1,...n.$ Položme
\[F(t) = f(\textbf{g}(t)) = f(g_1(t),...g_n(t)).\]

Potom má $F$ derivaci v b, totiž 
\[F'(b) = \sum^n_{k=1}\frac{\partial f(\textbf{a})}{\partial x_k} \cdot g'_k(b).\]

Důkaz:

\begin{align*} 
 \frac{1}{h} (F(b+h) - F(b)) &= \frac{1}{h}(f(\textbf{g}(b+h)) - f(\textbf{g}(b)) =  \\
 &=\frac{1}{h}(f(\textbf{g}(b) + (\textbf{g}(b+h) - \textbf{g}(b))) - f(\textbf{g}(b)) = \\
 &=\sum^n_{k=1}A_k\frac{g_k(b+h)-g_k(b)}{h} + \mu(\textbf{g}(b+h) - \textbf{g}(b)) \max_k\frac{|g_k(b+h)-g_k(b)|}{h}.
\end{align*}

Máme li $lim_{h \rightarrow 0} \mu(\textbf{g}(b+h)-\textbf{g}(b)) = 0$ jelikož jsou funkce $g_k$ spojité v $b$. 
Jelikož funkce $g_k$ mají derivace, jsou $\max_k \frac{|g_k(b+h) - g_k(b)|}{h}$ omezené v dostatečně malém okolí nuly. Limita 
poslední sčítance je tedy nula a máme

\[\lim_{h \rightarrow 0} \frac{1}{h}(F(b+h) - F(b)) = \lim_{h \rightarrow 0} \sum^n_{k = 1} A_k\frac{g_k(b+h)-g_k(b)}{h} = \]
\[= \sum^n_{k = 1}A_k\lim_{h \rightarrow 0} \frac{g_k(b+h) - g_k(b)}{h} = \sum^n_{k = 1}\frac{\partial f(\textbf{a})}{\partial x_k}g'_k(b)\]

\hspace{1.2mm}
Co se děje geometricky: Tečná nadrovina vyjádřená diferenciálem vnější funkce $f$ nemá žádny důvod preferovat hlavní osy v nichž se 
dějí derivace vnitřních funkcí. Proto by tady jen parciálni derivace nestačily. 
\noindent

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Důsledek (Řetízkové Pravidlo)}
\hspace{1.2mm}
Nechť má $f(\textbf{x})$ \textit{totální diferenciál} v bodě \textbf{a}. Nechť mají funkce $g_k(t_1,...,t_r)$ parciální 
derivace v \textbf{b} $= (b_1,...,b_r)$ a nechť je $g_k(\textbf{b}) = a_k$ pro $k = 1,...,n.$ Potom má funkce
\[(f\circ \textbf{g})(t_1,...,t_r) = f(\textbf{g}(t)) = f(g_1(t),...,g_n(t))\]
všechny parciální derivace v b, a platí 
\[\frac{\partial (f \circ \textbf{g})(\textbf{b})}{\partial t_j} = \sum^n_{k=1}\frac{\partial f(\textbf{a})}{\partial x_k}
\cdot \frac{\partial g_k(\textbf{b})}{\partial t_j}.\]

Skládali jsme

\[\mathbb{E}_k \xrightarrow{\mathbf{g}} \mathbb{E}_n \xrightarrow{\textit{f}} \mathbb{R} \]
Skládejme místo $f$ $m$-tici funkcí
$\mathbf{f} = (f_1,...,f_m)$, tedy $\mathbf{f}: \mathbb{E}_n \rightarrow \mathbb{E}_M$
\[\mathbb{E}_k \xrightarrow{\mathbf{g}} \mathbb{E}_n \xrightarrow{\textit{f}} \mathbb{E}_m \]
Pravidlo z předchozí věty dá tedy
\[\frac{\partial (f_i \circ \mathbf{g})(b)}{\partial t_j} = \sum^n_{k=1} \frac{\partial f_i(\mathbf{a})}{\partial x_k}
\cdot \frac{\partial g_k(\mathbf{b})}{\partial t_j}.\]

Zavedeme-li matice $D\mathbf{f} = \left(\frac{\partial f_i(\mathbf{a}}{\partial x_k}\right)_{ik}$ je 
$D(\mathbf{f}\circ \mathbf{g} = D\mathbf{f}\cdot D\mathbf{g}$ (napravo násobení matic), a tak to má být. $D\mathbf{h}$ je matice lineární aproximace 
funkce $\mathbf{h}$: \textit{lineární aproximace se skládají spolu s aproximovanými funkcemi}.
\noindent

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Aritmetická pravidla z řetězového násobení}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Násobení}
\[ f(u,v) = u \cdot v \]

\hspace{1.2mm}
\noindent
Potom $ \frac{\partial f}{\partial u} = v $ a $ \frac{\partial f}{\partial v} = u $
a pro $u = \psi (x)$ a $ v = \phi (x) $ platí:
\[ (\phi (x), \psi (y))' =
\frac{\partial f}{\partial u} \phi '(x) + \frac{\partial f}{\partial v} \psi '(x) = 
\phi (x)\psi '(x) + \phi '(x)\psi (x)  \]

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Dělení}
\[ f(u,v) = \frac{u}{v} \]

\hspace{1.2mm}
\noindent
Potom $ \frac{\partial f}{\partial u} = \frac{1}{v} $ a $ \frac{\partial f}{\partial v} = -\frac{u}{v^2} $
a pro $u = \psi (x)$ a $ v = \phi (x) $ platí:
\[ \left( \frac{\phi (x)}{\psi (x)} \right)' =
\frac{\partial f}{\partial u} \phi '(x) - \frac{\partial f}{\partial v} = \psi '(x) =
\frac{1}{\psi (x)} \phi '(x) + \frac{1}{\psi (x)^2}\psi '(x) =
\frac{\psi (x)\phi '(x) - \phi (x)\psi '(x)}{\psi (x)^2} \]

\subsection{Lagrangeova věta ve více proměnných}
%-> možno by bolo dobré doplniť aj vetou pre jednu premennú
\hspace{1.2mm}
\noindent
Nechť má $f$ spojité parciální derivace v konvexní otevřené množině $U \subseteq \mathbb{E}_{n}$.
Potom pro libovolné dva body $x,y \in D \exists 0 \leq \theta \leq 1$ takové, že:
\[ f(\mathbf{y}) - f(\mathbf{x}) =
\sum^{n}_{j=1} \frac{\partial f(\mathbf{x} + \theta (\mathbf{y}-\mathbf{x}))}{\partial x_j}(y_j - x_j) \]

\noindent
\textbf{Důkaz:}
Mějme $\mathbf{g}$, pro které platí $g_j(t) = x_j + t(y_j - x_j)$.
Potom máme $F(t) = f \circ \mathbf{g} = (\mathbf{x} + t(\mathbf{y}-\mathbf{x}))$ a
\[ F'(t) = \sum^{n}_{j=1} \frac{\partial f(\mathbf{g}(t))}{\partial x_j}g_j'(t) =
\sum^{n}_{j=1} \frac{\partial f(\mathbf{g}(t))}{\partial x_j}(y_j - x_j)  \]
Podle Lagrangeovy věty:
\[ f(\mathbf{y}) - f(\mathbf{x}) = F(1) - F(0) = F'(\theta) \]

\noindent
\textbf{Poznámka:}
Často se užívá v tomto tvaru:
\[ f(\mathbf{x} + \mathbf{h}) - f(\mathbf{x}) =
\sum^{n}_{j=1} \frac{\partial f(\mathbf{x + \theta \mathbf{h}})}{\partial x_j}h_j \]
(Porovnej s formulí pro totální diferenciál)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Tvrzení o záměnnosti pořadí při parciálních derivacích}
\hspace{1.2mm}
\noindent
Mějme funkci $f(x,y)$ takovou, že existují parciální derivace
$\frac{\partial ^2 f}{\partial x \partial y}$ a $\frac{\partial ^2 f}{\partial y \partial x}$, které
jsou spojité v nějakém okolí bodu $(x,y)$. Potom:
\[ \frac{\partial ^2 f(x,y)}{\partial x \partial y} = \frac{\partial ^2 f(x,y)}{\partial y \partial x} \]

\noindent
\textbf{Důkaz:} Pokusíme se spočíst obě derivace v jednom kroku, tedy počítejme limitu $lim_{h\rightarrow 0} F(h)$ funkce
\[F(h) = \frac{f(x+h,y+h) - f(x,y+h) - f(x+h,y) + f(x,y)}{h^2}\]
Položíme li 

\begin{align*} 
\begin{split}
\varphi_h(y) & = f(x+h,y) - f(x,y)\text{ a}\\
\psi_k(x) & = f(x,y+k) - f(x,y),
\end{split}
\end{align*}
dostaneme pro $F(h)$ dva výrazy:
\begin{align*} 
\begin{split}
F(h) & = \frac{1}{h^2} (\varphi_h(y+h) - \varphi_h(y))\\
F(h) & = \frac{1}{h^2} (\psi_h(x+h)-\psi_h(x)).
\end{split}
\end{align*}

První: Funkce $\varphi_h$ má derivaci (podle $y$, jinou proměnnou nemá)
\[\varphi'_h(y)=\frac{\partial f(x+h,y)}{\partial y}-\frac{\partial f(x,y)}{\partial y}\]

a tedy podle Lagrangeovy formule
\begin{align*}
    F(h) & = \frac{1}{h^2}(\varphi_h(y+h)-\varphi_h(y)) = \frac{1}{h}\varphi'_h(y+\theta_1h)\\
    & = \frac{\partial f(x+h,y+\theta_1h)}{\partial y} -\frac{\partial f(x,y+\theta_1h)}{\partial y}.
\end{align*}

Potom znovu, podle L. formule,
\[F(h) = \frac{\partial }{\partial x}\left(\frac{\partial f(x+\theta_2h,y+\theta_1h}{\partial y}\right)\]

pro nějaká $\theta_1,\theta_2$ mezi 0 a 1.

Druhá, $\frac{1}{h^2}(\varphi_h(x+h) - \varphi_h(x)))$ dá podobně
\[F(h) = \frac{\partial }{\partial y}\left(\frac{\partial f(x+\theta_4h,y + \theta_2h}{\partial x}\right)\]
Obě $\frac{\partial }{\partial y}(\frac{\partial f}{\partial x})$ a $\frac{\partial }{\partial x}(\frac{\partial f}{\partial y})$ jsou spojité ($x,y$), a $lim_{h\rightarrow 0} F(h)$ můžeme počítat z kteréhokoli výrazu (první nebo druhá):

\[\lim_{h\rightarrow 0}F(h) = \frac{\partial ^2 f(x,y)}{\partial x \partial y} 
                            = \frac{\partial ^2 f(x,y)}{\partial y \partial x}.\]
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Důsledek tvrzení o záměnnosti}
\hspace{1.2mm}
Nechť má funkce $f$ v proměnných spojité parciální derivace do řádu $k$. Potom hodnoty těchto derivací
záleží pouze na tom, kolikrát bylo derivováno v každé z proměnných $x_1, ... , x_n$.

\noindent
\hspace{1.2mm}
Tedy za daných předpokladů můžeme obecné parciální derivace řádu $r \leq k$ psát
\[\frac{\partial ^r f}{\partial x^{r_1}_1 \partial x^{r_2}_2 ... \partial x_n^{r_n}} \text{ kde } r_1 + r_2 + \cdot \cdot \cdot + r_n = r \]
\[(r_j = 0 \text{ indukuje absenci symbolu } \partial x_j)\]

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Věta o konvergentní podposloupnosti}
\hspace{1.2mm}
\noindent
Z každé posloupnosti na kompaktním intervalu lze vybrat konvergentní podposloupnost.

\noindent
\hspace{1.2mm}
Explicitně:
Mějme $a,b \in \mathbb{R}$ taková, že $\forall n: a \leq x_n \leq b$. Potom existuje podposloupnost
$(x_{k_n})_n$ posloupnosti $(x_n)_n$ která konverguje v $\mathbb{R}$ a platí
$a \leq \lim_n x_{k_n} \leq b$

\vspace{5mm}
\noindent
\textbf{Důkaz:} 
Vezměme \[M = \{x : x \in \mathbb{R}, x \leq x_n \text{ pro nekonečně mnoho n}\}\]
$M$ je neprázdná a omezená protože $a \in M \text{ a } b$ je horní mez $M$. Musí tedy existovat $s = sup(M)$ a platí 
$a \leq s \leq b$. Dále, pro každé $n$ je množina 
\[K(n) = \{k : s - \frac{1}{n} < x_k < s + \frac{1}{n}\}\]
nekonečná: skutečně, máme $x > s - \varepsilon$ takové, že $x_n > x$ pro nekonečně mnoho $n$, zatím co podle definice množiny M je jen
konečně mnoho $n$ takových, že $x_n \geq s + \varepsilon$. 

Zvolme $k_1$ tak, aby
\[s - 1 < x_{k_{1_2}} < s+1.\]
Mějme zvolena $k_1 < k_2 < \cdot \cdot \cdot < k_n$ taková, že $j = 1,...,n$
\[s - \frac{1}{j} < x_{k_j} < s + \frac{1}{j}.\]
Jelikož $K(n+1)$ je nekonečná, můžeme zvolit $k_{n+1} > k_n$ tak, aby
\[s - \frac{1}{n+1} < x_{k_{n+1}} < s + \frac{1}{n+1}.\]
Takto zvolená podposloupnost $(x_{k_n})_n$ naší $(x_n)_n$ zřejmě konverguje k $s$.

\end{document}